# -*-SH-*-
process TEST = {
   include "CalibTracker/Configuration/data/SiPixel_FakeGain.cff"
   include "CalibTracker/Configuration/data/SiStrip_FakeGain.cff"
   include "CalibTracker/Configuration/data/SiStrip_FakeNoise.cff"
   include "CalibTracker/Configuration/data/SiStrip_FakePedestals.cff"
   include "CalibTracker/Configuration/data/SiStrip_FakeLorentzAngle.cff"
   
   include "RecoTracker/Configuration/data/RecoTracker.cff"
   include "RecoMuon/Configuration/data/RecoMuon.cff"
   
   # 4D segments
   include "RecoLocalMuon/DTSegment/data/dt4DSegments_CombPatternReco4D_ParamDrift.cfi"
   include "RecoMuon/Configuration/data/RecoMuon.cff"
  
  untracked PSet maxEvents = { 
     untracked int32 input = 100
  }
  
  service = MessageLogger {
          untracked vstring destinations = {"cout"}
#	  untracked vstring categories   = {"MuonIdentification", "TrackAssociator"}
	  # untracked vstring categories   = { "TrackAssociator"}
	  untracked vstring categories   = {"MuonIdentification"}
	  untracked PSet cout = {
		      untracked string threshold = "INFO"
#		      untracked string threshold = "DEBUG"
			untracked PSet DEBUG   = { untracked int32 limit = 0 }
			untracked PSet MuonIdentification= { untracked int32 limit = -1 }
#			untracked PSet TrackAssociator = { untracked int32 limit = -1 }
		      }
#          untracked vstring debugModules = { "muons"}
  }
  untracked PSet options =
   {
       untracked vstring Rethrow = {"ProductNotFound"}
   }
  
  source = PoolSource {
     untracked vstring fileNames = {
       "/store/mc/2007/11/19/RelVal-RelValSingleMuPlusPt10-1195478550/0000/188B0300-2998-DC11-AEAD-000423D9A2AE.root"
     }
  }
    
   
   module Out = PoolOutputModule 
     {
	untracked string fileName = "/tmp/muons.root"
	untracked vstring outputCommands =
	          {
		  "drop *",
		  "keep recoTracks_*_*_*",
		  "keep *_*_*_TEST"
		  }
     }
    sequence globalreco = {ckftracks, muonreco}
    path p = { dt4DSegments, globalreco }
    endpath outpath = { Out }
}

